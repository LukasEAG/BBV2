{"version":3,"sources":["main.v2.js"],"names":["_regenerator","e","t","r","Symbol","n","iterator","o","toStringTag","i","c","prototype","Generator","u","Object","create","_regeneratorDefine2","f","p","y","G","v","a","d","bind","length","l","TypeError","call","done","value","GeneratorFunction","GeneratorFunctionPrototype","getPrototypeOf","this","setPrototypeOf","__proto__","displayName","w","m","defineProperty","_invoke","enumerable","configurable","writable","_typeof","constructor","asyncGeneratorStep","Promise","resolve","then","_asyncToGenerator","arguments","apply","_next","_throw","navBar","document","querySelector","window","addEventListener","navBarBgHandler","body","mobileNav","btnOpenNav","menuBtns","Array","from","querySelectorAll","filter","el","classList","contactDiv","btnCloseContact","submitButton","homeBtn","scrollY","add","remove","navHandler","toggle","openContactHandler","closeContactHandler","isContactOpen","contains","forEach","btn","btnLink","href","getAttribute","isMobile","innerWidth","location","hash","regFormPopup","regFormPopupContainer","regFormMsg","sendingProccede","closePopupBtn","createSpanHendler","msg","span","createElement","innerText","insertAdjacentElement","registrationForm","lastErrors","preventDefault","sendFormToBackend","_ref","_callee","_form$querySelector","_form$querySelector2","_form$querySelector3","form","data","res","json","errors","_context","target","name","email","checkbox","fetch","method","headers","JSON","stringify","ok","concat","user_name","values","err","error","_x","currentForm","closest","keys","reset","fieldName","field","unsubscribeForm","unsubscribeNewsLetter","_ref2","_callee2","_form$querySelector4","_form$querySelector5","_context2","_x2","footerYear","handleCurrentYear","year","Date","getFullYear"],"mappings":"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","file":"main.v2.min.js","sourcesContent":["const navBar = document.querySelector('.nav-menu')\nwindow.addEventListener('scroll', () => {\n\tnavBarBgHandler()\n})\n\nconst body = document.querySelector('body')\nconst mobileNav = document.querySelector('.nav-menu__links')\nconst btnOpenNav = document.querySelector('.nav-menu__mobile-open-btn')\nconst menuBtns = Array.from(document.querySelectorAll('[btnMenu]')).filter(el => el.classList.length === 1)\nconst contactDiv = document.querySelector('#contact')\nconst btnCloseContact = document.querySelectorAll('[btnCloseContact]')\nconst submitButton = document.querySelector('.email__submit')\nconst homeBtn = document.querySelectorAll('[btnHome]')\n\nconst navBarBgHandler = () => {\n\tif (window.scrollY > 10) {\n\t\tnavBar.classList.add('background')\n\t} else if (window.scrollY <= 10) {\n\t\tnavBar.classList.remove('background')\n\t}\n}\nconst navHandler = () => {\n\tif (window.scrollY > 10) {\n\t\tmobileNav.classList.toggle('active')\n\t\tbody.classList.toggle('menuActive')\n\t} else {\n\t\tmobileNav.classList.toggle('active')\n\t\tbody.classList.toggle('menuActive')\n\t\tnavBar.classList.toggle('background')\n\t}\n}\n\nconst openContactHandler = () => {\n\tif (window.scrollY > 10) {\n\t\tcontactDiv.classList.add('active')\n\t\tbody.classList.add('menuActive')\n\t} else {\n\t\tcontactDiv.classList.add('active')\n\t\tbody.classList.add('menuActive')\n\t\tnavBar.classList.toggle('background')\n\t}\n}\n\nconst closeContactHandler = () => {\n\tcontactDiv.classList.remove('active')\n\tbody.classList.remove('menuActive')\n}\nconst isContactOpen = () => contactDiv.classList.contains('active')\n\nmenuBtns.forEach(btn => {\n\tbtn.addEventListener('click', e => {\n\t\tconst btnLink = btn.querySelector('a')\n\t\tconst href = btnLink ? btnLink.getAttribute('href') : null\n\t\tconst isMobile = window.innerWidth <= 992\n\n\t\tif (href === '#contact') {\n\t\t\tisContactOpen() ? closeContactHandler() : openContactHandler()\n\t\t\tif (isMobile) navHandler()\n\t\t} else {\n\t\t\tif (isContactOpen()) {\n\t\t\t\tcloseContactHandler()\n\t\t\t}\n\t\t\tif (isMobile) navHandler()\n\t\t}\n\t})\n})\nbtnOpenNav.addEventListener('click', () => {\n\tnavHandler()\n})\nbtnCloseContact.forEach(btn => {\n\tbtn.addEventListener('click', () => {\n\t\tcloseContactHandler()\n\t})\n})\nhomeBtn.forEach(btn => {\n\tbtn.addEventListener('click', () => {\n\t\tmobileNav.classList.remove('active')\n\t\tbody.classList.remove('menuActive')\n\t\tnavBar.classList.remove('background')\n\t\tcontactDiv.classList.remove('active')\n\t})\n})\ndocument.addEventListener('DOMContentLoaded', () => {\n\tif (window.location.hash === '#contact') {\n\t\topenContactHandler()\n\t}\n})\n\nconst regFormPopup = document.querySelector('[form-popup]')\nconst regFormPopupContainer = document.querySelector('[form-popup-container]')\nconst regFormMsg = document.querySelector('[registration-form-msg]')\nconst sendingProccede = document.querySelector('.sendingProceed')\nconst closePopupBtn = document.querySelector('[close-popup-btn]')\n\nconst createSpanHendler = msg => {\n\tconst span = document.createElement('span')\n\tspan.classList.add('form-popup__container--msg')\n\tspan.innerText = msg\n\tclosePopupBtn.insertAdjacentElement('beforebegin', span)\n\n\tregFormPopup.classList.add('active')\n}\nconst registrationForm = document.querySelector('[registration-form=\"subscribe\"]')\nlet lastErrors = {}\n\nif (registrationForm) {\n\tregistrationForm.addEventListener('submit', e => {\n\t\te.preventDefault()\n\t\tsendFormToBackend(e)\n\t})\n}\nconst sendFormToBackend = async e => {\n\tconst form = e.target\n\tconst data = {\n\t\tname: form.querySelector('[name=\"userName\"]')?.value || '',\n\t\temail: form.querySelector('[name=\"userEmail\"]')?.value || '',\n\t\tcheckbox: form.querySelector('input[name=\"checkbox\"]:checked')?.value || '',\n\t}\n\tsendingProccede.classList.add('active')\n\ttry {\n\t\tconst res = await fetch('/api/newsletter', {\n\t\t\tmethod: 'POST',\n\t\t\theaders: { 'Content-Type': 'application/json' },\n\t\t\tbody: JSON.stringify(data),\n\t\t})\n\t\tconst json = await res.json()\n\n\t\tif (res.ok) {\n\t\t\tcreateSpanHendler(`ðŸ“© Witaj, ${json.user_name} \nDziÄ™kujemy za zapisanie siÄ™ do naszego newslettera âœ…\nTeraz bÄ™dziesz na bieÅ¼Ä…co z waÅ¼nymi informacjami i wydarzeniami.\nðŸ“¬ SprawdÅº skrzynkÄ™ (oraz SPAM) â€” wysÅ‚aliÅ›my wiadomoÅ›Ä‡ powitalnÄ….\nW razie pytaÅ„ pisz do nas Å›miaÅ‚o: ðŸ“§ ticket@bliskobrzegu.pl\nDo zobaczenia nad wodÄ…! ðŸŒŠ #BliskoBrzegu #DoZobaczenia`)\n\n\t\t\tlastErrors = {}\n\t\t} else {\n\t\t\tif (typeof json.errors === 'object') {\n\t\t\t\tconst errors = json.errors || {}\n\n\t\t\t\tObject.values(errors).forEach(err => {\n\t\t\t\t\tcreateSpanHendler(err)\n\t\t\t\t})\n\n\t\t\t\tlastErrors = errors\n\t\t\t} else if (json.error) {\n\t\t\t\tcreateSpanHendler(json.error)\n\t\t\t} else {\n\t\t\t\tcreateSpanHendler('WystÄ…piÅ‚ nieznany bÅ‚Ä…d')\n\t\t\t}\n\t\t}\n\t} catch (err) {\n\t\tcreateSpanHendler('BÅ‚Ä…d poÅ‚Ä…czenia z serwerem, sprÃ³buj ponownie')\n\t}\n}\n\nclosePopupBtn.addEventListener('click', e => {\n\te.preventDefault()\n\tconst errorSpan = regFormPopup.querySelectorAll('.form-popup__container--msg')\n\terrorSpan.forEach(span => span.remove())\n\tregFormPopup.classList.remove('active')\n\tconst currentForm = regFormPopup.closest('form')\n\tsendingProccede.classList.remove('active')\n\n\tif (Object.keys(lastErrors).length === 0) {\n\t\tcurrentForm.reset()\n\t} else {\n\t\tObject.keys(lastErrors).forEach(fieldName => {\n\t\t\tconst field = currentForm.querySelector(`[name=\"${fieldName}\"]`)\n\t\t\tif (field) field.value = ''\n\t\t})\n\t}\n})\n\nconst unsubscribeForm = document.querySelector('[registration-form=\"unsubscribe\"]')\nif (unsubscribeForm) {\n\tunsubscribeForm.addEventListener('submit', e => {\n\t\te.preventDefault()\n\t\tunsubscribeNewsLetter(e)\n\t})\n}\n\nconst unsubscribeNewsLetter = async e => {\n\tconst form = e.target\n\tconst data = {\n\t\temail: form.querySelector('[name=\"userEmailUs\"]')?.value || '',\n\t\tcheckbox: form.querySelector('input[name=\"checkboxUs\"]:checked')?.value || '',\n\t}\n\tsendingProccede.classList.add('active')\n\ttry {\n\t\tconst res = await fetch('/api/unsubscribe', {\n\t\t\tmethod: 'POST',\n\t\t\theaders: {\n\t\t\t\t'Content-Type': 'application/json',\n\t\t\t},\n\t\t\tbody: JSON.stringify(data),\n\t\t})\n\t\tconst json = await res.json()\n\n\t\tif (res.ok) {\n\t\t\tcreateSpanHendler(`\nZostaÅ‚eÅ› usuniÄ™ty z naszego newslettera`)\n\n\t\t\tlastErrors = {}\n\t\t} else {\n\t\t\tif (typeof json.errors === 'object') {\n\t\t\t\tconst errors = json.errors || {}\n\n\t\t\t\tObject.values(errors).forEach(err => {\n\t\t\t\t\tcreateSpanHendler(err)\n\t\t\t\t})\n\n\t\t\t\tlastErrors = errors\n\t\t\t} else if (json.error) {\n\t\t\t\tcreateSpanHendler(json.error)\n\t\t\t} else {\n\t\t\t\tcreateSpanHendler('WystÄ…piÅ‚ nieznany bÅ‚Ä…d')\n\t\t\t}\n\t\t}\n\t} catch (err) {\n\t\tcreateSpanHendler('BÅ‚Ä…d poÅ‚Ä…czenia z serwerem, sprÃ³buj ponownie')\n\t}\n}\n\nconst footerYear = document.querySelector('.footer__foot-year')\nconst handleCurrentYear = () => {\n\tconst year = new Date().getFullYear()\n\tfooterYear.innerText = year\n}\nhandleCurrentYear()\n"]}
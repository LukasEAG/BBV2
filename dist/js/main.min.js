"use strict";function _regenerator(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var e,n,r="function"==typeof Symbol?Symbol:{},t=r.iterator||"@@iterator",o=r.toStringTag||"@@toStringTag";function a(r,t,o,a){var s=t&&t.prototype instanceof i?t:i,u=Object.create(s.prototype);return _regeneratorDefine2(u,"_invoke",function(r,t,o){var a,i,s,u=0,l=o||[],d=!1,f={p:0,n:0,v:e,a:p,f:p.bind(e,4),d:function(n,r){return a=n,i=0,s=e,f.n=r,c}};function p(r,t){for(i=r,s=t,n=0;!d&&u&&!o&&n<l.length;n++){var o,a=l[n],p=f.p,v=a[2];r>3?(o=v===t)&&(s=a[(i=a[4])?5:(i=3,3)],a[4]=a[5]=e):a[0]<=p&&((o=r<2&&p<a[1])?(i=0,f.v=t,f.n=a[1]):p<v&&(o=r<3||a[0]>t||t>v)&&(a[4]=r,a[5]=t,f.n=v,i=0))}if(o||r>1)return c;throw d=!0,t}return function(o,l,v){if(u>1)throw TypeError("Generator is already running");for(d&&1===l&&p(l,v),i=l,s=v;(n=i<2?e:s)||!d;){a||(i?i<3?(i>1&&(f.n=-1),p(i,s)):f.n=s:f.v=s);try{if(u=2,a){if(i||(o="next"),n=a[o]){if(!(n=n.call(a,s)))throw TypeError("iterator result is not an object");if(!n.done)return n;s=n.value,i<2&&(i=0)}else 1===i&&(n=a.return)&&n.call(a),i<2&&(s=TypeError("The iterator does not provide a '"+o+"' method"),i=1);a=e}else if((n=(d=f.n<0)?s:r.call(t,f))!==c)break}catch(n){a=e,i=1,s=n}finally{u=1}}return{value:n,done:d}}}(r,o,a),!0),u}var c={};function i(){}function s(){}function u(){}n=Object.getPrototypeOf;var l=[][t]?n(n([][t]())):(_regeneratorDefine2(n={},t,function(){return this}),n),d=u.prototype=i.prototype=Object.create(l);function f(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,u):(e.__proto__=u,_regeneratorDefine2(e,o,"GeneratorFunction")),e.prototype=Object.create(d),e}return s.prototype=u,_regeneratorDefine2(d,"constructor",u),_regeneratorDefine2(u,"constructor",s),s.displayName="GeneratorFunction",_regeneratorDefine2(u,o,"GeneratorFunction"),_regeneratorDefine2(d),_regeneratorDefine2(d,o,"Generator"),_regeneratorDefine2(d,t,function(){return this}),_regeneratorDefine2(d,"toString",function(){return"[object Generator]"}),(_regenerator=function(){return{w:a,m:f}})()}function _regeneratorDefine2(e,n,r,t){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}_regeneratorDefine2=function(e,n,r,t){function a(n,r){_regeneratorDefine2(e,n,function(e){return this._invoke(n,r,e)})}n?o?o(e,n,{value:r,enumerable:!t,configurable:!t,writable:!t}):e[n]=r:(a("next",0),a("throw",1),a("return",2))},_regeneratorDefine2(e,n,r,t)}function _typeof(e){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof(e)}function asyncGeneratorStep(e,n,r,t,o,a,c){try{var i=e[a](c),s=i.value}catch(e){return void r(e)}i.done?n(s):Promise.resolve(s).then(t,o)}function _asyncToGenerator(e){return function(){var n=this,r=arguments;return new Promise(function(t,o){var a=e.apply(n,r);function c(e){asyncGeneratorStep(a,t,o,c,i,"next",e)}function i(e){asyncGeneratorStep(a,t,o,c,i,"throw",e)}c(void 0)})}}var navBar=document.querySelector(".nav-menu");window.addEventListener("scroll",function(){navBarBgHandler()});var body=document.querySelector("body"),mobileNav=document.querySelector(".nav-menu__links"),btnOpenNav=document.querySelector(".nav-menu__mobile-open-btn"),menuBtns=Array.from(document.querySelectorAll("[btnMenu]")).filter(function(e){return 1===e.classList.length}),contactDiv=document.querySelector("#contact"),btnCloseContact=document.querySelectorAll("[btnCloseContact]"),submitButton=document.querySelector(".email__submit"),homeBtn=document.querySelectorAll("[btnHome]"),navBarBgHandler=function(){window.scrollY>10?navBar.classList.add("background"):window.scrollY<=10&&navBar.classList.remove("background")},navHandler=function(){window.scrollY>10?(mobileNav.classList.toggle("active"),body.classList.toggle("menuActive")):(mobileNav.classList.toggle("active"),body.classList.toggle("menuActive"),navBar.classList.toggle("background"))},openContactHandler=function(){window.scrollY>10?(contactDiv.classList.add("active"),body.classList.add("menuActive")):(contactDiv.classList.add("active"),body.classList.add("menuActive"),navBar.classList.toggle("background"))},closeContactHandler=function(){contactDiv.classList.remove("active"),body.classList.remove("menuActive")},isContactOpen=function(){return contactDiv.classList.contains("active")};menuBtns.forEach(function(e){e.addEventListener("click",function(n){var r=e.querySelector("a"),t=r?r.getAttribute("href"):null,o=window.innerWidth<=992;"#contact"===t?(isContactOpen()?closeContactHandler():openContactHandler(),o&&navHandler()):(isContactOpen()&&closeContactHandler(),o&&navHandler())})}),btnOpenNav.addEventListener("click",function(){navHandler()}),btnCloseContact.forEach(function(e){e.addEventListener("click",function(){closeContactHandler()})}),homeBtn.forEach(function(e){e.addEventListener("click",function(){mobileNav.classList.remove("active"),body.classList.remove("menuActive"),navBar.classList.remove("background"),contactDiv.classList.remove("active")})}),document.addEventListener("DOMContentLoaded",function(){"#contact"===window.location.hash&&openContactHandler()});var regFormPopup=document.querySelector("[form-popup]"),regFormPopupContainer=document.querySelector("[form-popup-container]"),regFormMsg=document.querySelector("[registration-form-msg]"),sendingProccede=document.querySelector(".sendingProceed"),closePopupBtn=document.querySelector("[close-popup-btn]"),createSpanHendler=function(e){var n=document.createElement("span");n.classList.add("form-popup__container--msg"),n.innerText=e,closePopupBtn.insertAdjacentElement("beforebegin",n),regFormPopup.classList.add("active")},registrationForm=document.querySelector('[registration-form="subscribe"]'),lastErrors={};registrationForm&&registrationForm.addEventListener("submit",function(e){e.preventDefault(),sendFormToBackend(e)});var sendFormToBackend=function(){var e=_asyncToGenerator(_regenerator().m(function e(n){var r,t,o,a,c,i,s,u;return _regenerator().w(function(e){for(;;)switch(e.p=e.n){case 0:return a=n.target,c={name:(null===(r=a.querySelector('[name="userName"]'))||void 0===r?void 0:r.value)||"",email:(null===(t=a.querySelector('[name="userEmail"]'))||void 0===t?void 0:t.value)||"",checkbox:(null===(o=a.querySelector('input[name="checkbox"]:checked'))||void 0===o?void 0:o.value)||""},sendingProccede.classList.add("active"),e.p=1,e.n=2,fetch("http://localhost:8000/newsletter.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)});case 2:return i=e.v,e.n=3,i.json();case 3:s=e.v,i.ok?(createSpanHendler("ðŸ“© Witaj, ".concat(s.user_name," \nDziÄ™kujemy za zapisanie siÄ™ do naszego newslettera âœ…\nTeraz bÄ™dziesz na bieÅ¼Ä…co z waÅ¼nymi informacjami i wydarzeniami.\nðŸ“¬ SprawdÅº skrzynkÄ™ (oraz SPAM) â€” wysÅ‚aliÅ›my wiadomoÅ›Ä‡ powitalnÄ….\nW razie pytaÅ„ pisz do nas Å›miaÅ‚o: ðŸ“§ ticket@bliskobrzegu.pl\nDo zobaczenia nad wodÄ…! ðŸŒŠ #BliskoBrzegu #DoZobaczenia")),lastErrors={}):"object"===_typeof(s.errors)?(u=s.errors||{},Object.values(u).forEach(function(e){createSpanHendler(e)}),lastErrors=u):s.error?createSpanHendler(s.error):createSpanHendler("WystÄ…piÅ‚ nieznany bÅ‚Ä…d"),e.n=5;break;case 4:e.p=4,e.v,createSpanHendler("BÅ‚Ä…d poÅ‚Ä…czenia z serwerem, sprÃ³buj ponownie");case 5:return e.a(2)}},e,null,[[1,4]])}));return function(n){return e.apply(this,arguments)}}();closePopupBtn.addEventListener("click",function(e){e.preventDefault(),regFormPopup.querySelectorAll(".form-popup__container--msg").forEach(function(e){return e.remove()}),regFormPopup.classList.remove("active");var n=regFormPopup.closest("form");sendingProccede.classList.remove("active"),0===Object.keys(lastErrors).length?n.reset():Object.keys(lastErrors).forEach(function(e){var r=n.querySelector('[name="'.concat(e,'"]'));r&&(r.value="")})});var unsubscribeForm=document.querySelector('[registration-form="unsubscribe"]');unsubscribeForm&&unsubscribeForm.addEventListener("submit",function(e){e.preventDefault(),unsubscribeNewsLetter(e)});var unsubscribeNewsLetter=function(){var e=_asyncToGenerator(_regenerator().m(function e(n){var r,t,o,a,c,i,s;return _regenerator().w(function(e){for(;;)switch(e.p=e.n){case 0:return o=n.target,a={email:(null===(r=o.querySelector('[name="userEmailUs"]'))||void 0===r?void 0:r.value)||"",checkbox:(null===(t=o.querySelector('input[name="checkboxUs"]:checked'))||void 0===t?void 0:t.value)||""},sendingProccede.classList.add("active"),e.p=1,e.n=2,fetch("http://localhost:8000/unsubscribe.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});case 2:return c=e.v,e.n=3,c.json();case 3:i=e.v,c.ok?(createSpanHendler("\nZostaÅ‚eÅ› usuniÄ™ty z naszego newslettera"),lastErrors={}):"object"===_typeof(i.errors)?(s=i.errors||{},Object.values(s).forEach(function(e){createSpanHendler(e)}),lastErrors=s):i.error?createSpanHendler(i.error):createSpanHendler("WystÄ…piÅ‚ nieznany bÅ‚Ä…d"),e.n=5;break;case 4:e.p=4,e.v,createSpanHendler("BÅ‚Ä…d poÅ‚Ä…czenia z serwerem, sprÃ³buj ponownie");case 5:return e.a(2)}},e,null,[[1,4]])}));return function(n){return e.apply(this,arguments)}}(),footerYear=document.querySelector(".footer__foot-year"),handleCurrentYear=function(){var e=(new Date).getFullYear();footerYear.innerText=e};handleCurrentYear();
//# sourceMappingURL=main.min.js.map

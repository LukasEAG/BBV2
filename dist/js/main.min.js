"use strict";function _regenerator(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var e,r,n="function"==typeof Symbol?Symbol:{},t=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function a(n,t,o,a){var u=t&&t.prototype instanceof i?t:i,s=Object.create(u.prototype);return _regeneratorDefine2(s,"_invoke",function(n,t,o){var a,i,u,s=0,l=o||[],d=!1,p={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(r,n){return a=r,i=0,u=e,p.n=n,c}};function f(n,t){for(i=n,u=t,r=0;!d&&s&&!o&&r<l.length;r++){var o,a=l[r],f=p.p,m=a[2];n>3?(o=m===t)&&(u=a[(i=a[4])?5:(i=3,3)],a[4]=a[5]=e):a[0]<=f&&((o=n<2&&f<a[1])?(i=0,p.v=t,p.n=a[1]):f<m&&(o=n<3||a[0]>t||t>m)&&(a[4]=n,a[5]=t,p.n=m,i=0))}if(o||n>1)return c;throw d=!0,t}return function(o,l,m){if(s>1)throw TypeError("Generator is already running");for(d&&1===l&&f(l,m),i=l,u=m;(r=i<2?e:u)||!d;){a||(i?i<3?(i>1&&(p.n=-1),f(i,u)):p.n=u:p.v=u);try{if(s=2,a){if(i||(o="next"),r=a[o]){if(!(r=r.call(a,u)))throw TypeError("iterator result is not an object");if(!r.done)return r;u=r.value,i<2&&(i=0)}else 1===i&&(r=a.return)&&r.call(a),i<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),i=1);a=e}else if((r=(d=p.n<0)?u:n.call(t,p))!==c)break}catch(r){a=e,i=1,u=r}finally{s=1}}return{value:r,done:d}}}(n,o,a),!0),s}var c={};function i(){}function u(){}function s(){}r=Object.getPrototypeOf;var l=[][t]?r(r([][t]())):(_regeneratorDefine2(r={},t,function(){return this}),r),d=s.prototype=i.prototype=Object.create(l);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,s):(e.__proto__=s,_regeneratorDefine2(e,o,"GeneratorFunction")),e.prototype=Object.create(d),e}return u.prototype=s,_regeneratorDefine2(d,"constructor",s),_regeneratorDefine2(s,"constructor",u),u.displayName="GeneratorFunction",_regeneratorDefine2(s,o,"GeneratorFunction"),_regeneratorDefine2(d),_regeneratorDefine2(d,o,"Generator"),_regeneratorDefine2(d,t,function(){return this}),_regeneratorDefine2(d,"toString",function(){return"[object Generator]"}),(_regenerator=function(){return{w:a,m:p}})()}function _regeneratorDefine2(e,r,n,t){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}_regeneratorDefine2=function(e,r,n,t){function a(r,n){_regeneratorDefine2(e,r,function(e){return this._invoke(r,n,e)})}r?o?o(e,r,{value:n,enumerable:!t,configurable:!t,writable:!t}):e[r]=n:(a("next",0),a("throw",1),a("return",2))},_regeneratorDefine2(e,r,n,t)}function _typeof(e){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof(e)}function asyncGeneratorStep(e,r,n,t,o,a,c){try{var i=e[a](c),u=i.value}catch(e){return void n(e)}i.done?r(u):Promise.resolve(u).then(t,o)}function _asyncToGenerator(e){return function(){var r=this,n=arguments;return new Promise(function(t,o){var a=e.apply(r,n);function c(e){asyncGeneratorStep(a,t,o,c,i,"next",e)}function i(e){asyncGeneratorStep(a,t,o,c,i,"throw",e)}c(void 0)})}}var navBar=document.querySelector(".nav-menu");window.addEventListener("scroll",function(){navBarBgHandler()});var body=document.querySelector("body"),mobileNav=document.querySelector(".nav-menu__links"),btnOpenNav=document.querySelector(".nav-menu__mobile-open-btn"),menuBtns=Array.from(document.querySelectorAll(".nav-menu__link")).filter(function(e){return 1===e.classList.length}),contactDiv=document.querySelector("#contact"),btnCloseContact=document.querySelectorAll(".close-contact"),submitButton=document.querySelector(".email__submit"),navBarBgHandler=function(){window.scrollY>10?navBar.classList.add("background"):window.scrollY<=10&&navBar.classList.remove("background")},navHandler=function(){mobileNav.classList.toggle("active")},openContactHandler=function(){contactDiv.classList.add("active"),body.classList.add("stop-scrolling")},closeContactHandler=function(){contactDiv.classList.remove("active"),body.classList.remove("stop-scrolling")},isContactOpen=function(){return contactDiv.classList.contains("active")};menuBtns.forEach(function(e){e.addEventListener("click",function(r){var n=e.querySelector("a"),t=n?n.getAttribute("href"):null,o=window.innerWidth<=992;"#contact"===t?(isContactOpen()?closeContactHandler():openContactHandler(),o&&navHandler()):(isContactOpen()&&closeContactHandler(),o&&navHandler())})}),btnOpenNav.addEventListener("click",function(){navHandler()}),btnCloseContact.forEach(function(e){e.addEventListener("click",function(){closeContactHandler()})});var regFormPopup=document.querySelector("[form-popup]"),regFormPopupContainer=document.querySelector("[form-popup-container]"),regFormMsg=document.querySelector("[registration-form-msg]"),sendingProccede=document.querySelector(".sendingProceed"),closePopupBtn=document.querySelector("[close-popup-btn]"),createSpanHendler=function(e){var r=document.createElement("span");r.classList.add("form-popup__container--msg"),r.innerText=e,closePopupBtn.insertAdjacentElement("beforebegin",r),regFormPopup.classList.add("active")},registrationForm=document.querySelector('[registration-form="subscribe"]'),lastErrors={};registrationForm&&registrationForm.addEventListener("submit",function(e){e.preventDefault(),sendFormToBackend(e)});var sendFormToBackend=function(){var e=_asyncToGenerator(_regenerator().m(function e(r){var n,t,o,a,c,i,u,s;return _regenerator().w(function(e){for(;;)switch(e.p=e.n){case 0:return a=r.target,c={name:(null===(n=a.querySelector('[name="userName"]'))||void 0===n?void 0:n.value)||"",email:(null===(t=a.querySelector('[name="userEmail"]'))||void 0===t?void 0:t.value)||"",checkbox:(null===(o=a.querySelector('input[name="checkbox"]:checked'))||void 0===o?void 0:o.value)||""},sendingProccede.classList.add("active"),e.p=1,e.n=2,fetch("http://localhost:8000/newsletter.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)});case 2:return i=e.v,e.n=3,i.json();case 3:u=e.v,i.ok?(createSpanHendler("ðŸ“© Witaj, ".concat(u.user_name," \nDziÄ™kujemy za zapisanie siÄ™ do naszego newslettera âœ…\nTeraz bÄ™dziesz na bieÅ¼Ä…co z waÅ¼nymi informacjami i wydarzeniami.\nðŸ“¬ SprawdÅº skrzynkÄ™ (oraz SPAM) â€” wysÅ‚aliÅ›my wiadomoÅ›Ä‡ powitalnÄ….\nW razie pytaÅ„ pisz do nas Å›miaÅ‚o: ðŸ“§ ticket@bliskobrzegu.pl\nDo zobaczenia nad wodÄ…! ðŸŒŠ #BliskoBrzegu #DoZobaczenia")),lastErrors={}):"object"===_typeof(u.errors)?(s=u.errors||{},Object.values(s).forEach(function(e){createSpanHendler(e)}),lastErrors=s):u.error?createSpanHendler(u.error):createSpanHendler("WystÄ…piÅ‚ nieznany bÅ‚Ä…d"),e.n=5;break;case 4:e.p=4,e.v,createSpanHendler("BÅ‚Ä…d poÅ‚Ä…czenia z serwerem, sprÃ³buj ponownie");case 5:return e.a(2)}},e,null,[[1,4]])}));return function(r){return e.apply(this,arguments)}}();closePopupBtn.addEventListener("click",function(e){e.preventDefault(),regFormPopup.querySelectorAll(".form-popup__container--msg").forEach(function(e){return e.remove()}),regFormPopup.classList.remove("active");var r=regFormPopup.closest("form");sendingProccede.classList.remove("active"),0===Object.keys(lastErrors).length?r.reset():Object.keys(lastErrors).forEach(function(e){var n=r.querySelector('[name="'.concat(e,'"]'));n&&(n.value="")})});var unsubscribeForm=document.querySelector('[registration-form="unsubscribe"]');unsubscribeForm&&unsubscribeForm.addEventListener("submit",function(e){e.preventDefault(),unsubscribeNewsLetter(e)});var unsubscribeNewsLetter=function(){var e=_asyncToGenerator(_regenerator().m(function e(r){var n,t,o,a,c,i,u;return _regenerator().w(function(e){for(;;)switch(e.p=e.n){case 0:return o=r.target,a={email:(null===(n=o.querySelector('[name="userEmailUs"]'))||void 0===n?void 0:n.value)||"",checkbox:(null===(t=o.querySelector('input[name="checkboxUs"]:checked'))||void 0===t?void 0:t.value)||""},sendingProccede.classList.add("active"),e.p=1,e.n=2,fetch("http://localhost:8000/unsubscribe.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});case 2:return c=e.v,e.n=3,c.json();case 3:i=e.v,c.ok?(createSpanHendler("\nZostales usuniety z naszego newslettera"),lastErrors={}):"object"===_typeof(i.errors)?(u=i.errors||{},Object.values(u).forEach(function(e){createSpanHendler(e)}),lastErrors=u):i.error?createSpanHendler(i.error):createSpanHendler("WystÄ…piÅ‚ nieznany bÅ‚Ä…d"),e.n=5;break;case 4:e.p=4,e.v,createSpanHendler("BÅ‚Ä…d poÅ‚Ä…czenia z serwerem, sprÃ³buj ponownie");case 5:return e.a(2)}},e,null,[[1,4]])}));return function(r){return e.apply(this,arguments)}}(),footerYear=document.querySelector(".footer__foot-year"),handleCurrentYear=function(){var e=(new Date).getFullYear();footerYear.innerText=e};handleCurrentYear();
//# sourceMappingURL=main.min.js.map

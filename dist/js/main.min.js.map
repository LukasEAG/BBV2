{"version":3,"sources":["main.js"],"names":["_regenerator","e","t","r","Symbol","n","iterator","o","toStringTag","i","c","prototype","Generator","u","Object","create","_regeneratorDefine2","f","p","y","G","v","a","d","bind","length","l","TypeError","call","done","value","GeneratorFunction","GeneratorFunctionPrototype","getPrototypeOf","this","setPrototypeOf","__proto__","displayName","w","m","defineProperty","_invoke","enumerable","configurable","writable","_typeof","constructor","asyncGeneratorStep","Promise","resolve","then","_asyncToGenerator","arguments","apply","_next","_throw","navBar","document","querySelector","window","addEventListener","navBarBgHandler","body","mobileNav","btnOpenNav","menuBtns","Array","from","querySelectorAll","filter","el","classList","contactDiv","btnCloseContact","submitButton","scrollY","add","remove","navHandler","toggle","openContactHandler","closeContactHandler","isContactOpen","contains","forEach","btn","btnLink","href","getAttribute","isMobile","innerWidth","location","hash","regFormPopup","regFormPopupContainer","regFormMsg","sendingProccede","closePopupBtn","createSpanHendler","msg","span","createElement","innerText","insertAdjacentElement","registrationForm","lastErrors","preventDefault","sendFormToBackend","_ref","_callee","_form$querySelector","_form$querySelector2","_form$querySelector3","form","data","res","json","errors","_context","target","name","email","checkbox","fetch","method","headers","JSON","stringify","ok","concat","user_name","values","err","error","_x","currentForm","closest","keys","reset","fieldName","field","unsubscribeForm","unsubscribeNewsLetter","_ref2","_callee2","_form$querySelector4","_form$querySelector5","_context2","_x2","footerYear","handleCurrentYear","year","Date","getFullYear"],"mappings":"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","file":"main.min.js","sourcesContent":["const navBar = document.querySelector('.nav-menu')\nwindow.addEventListener('scroll', () => {\n\tnavBarBgHandler()\n})\n\nconst body = document.querySelector('body')\nconst mobileNav = document.querySelector('.nav-menu__links')\nconst btnOpenNav = document.querySelector('.nav-menu__mobile-open-btn')\nconst menuBtns = Array.from(document.querySelectorAll('.nav-menu__link')).filter(el => el.classList.length === 1)\nconst contactDiv = document.querySelector('#contact')\nconst btnCloseContact = document.querySelectorAll('.close-contact')\nconst submitButton = document.querySelector('.email__submit')\n\nconst navBarBgHandler = () => {\n\tif (window.scrollY > 10) {\n\t\tnavBar.classList.add('background')\n\t} else if (window.scrollY <= 10) {\n\t\tnavBar.classList.remove('background')\n\t}\n}\nconst navHandler = () => {\n\tif (window.scrollY > 10) {\n\t\tmobileNav.classList.toggle('active')\n\t\tbody.classList.toggle('menuActive')\n\t} else {\n\t\tmobileNav.classList.toggle('active')\n\t\tbody.classList.toggle('menuActive')\n\t\tnavBar.classList.toggle('background')\n\t}\n}\n\nconst openContactHandler = () => {\n\tif (window.scrollY > 10) {\n\t\tcontactDiv.classList.add('active')\n\t\tbody.classList.add('menuActive')\n\t} else {\n\t\tcontactDiv.classList.add('active')\n\t\tbody.classList.add('menuActive')\n\t\tnavBar.classList.toggle('background')\n\t}\n}\n\nconst closeContactHandler = () => {\n\tcontactDiv.classList.remove('active')\n\tbody.classList.remove('menuActive')\n\n}\nconst isContactOpen = () => contactDiv.classList.contains('active')\n\nmenuBtns.forEach(btn => {\n\tbtn.addEventListener('click', e => {\n\t\tconst btnLink = btn.querySelector('a')\n\t\tconst href = btnLink ? btnLink.getAttribute('href') : null\n\t\tconst isMobile = window.innerWidth <= 992\n\n\t\tif (href === '#contact') {\n\t\t\tisContactOpen() ? closeContactHandler() : openContactHandler()\n\t\t\tif (isMobile) navHandler()\n\t\t} else {\n\t\t\tif (isContactOpen()) {\n\t\t\t\tcloseContactHandler()\n\t\t\t}\n\t\t\tif (isMobile) navHandler()\n\t\t}\n\t})\n})\nbtnOpenNav.addEventListener('click', () => {\n\tnavHandler()\n})\nbtnCloseContact.forEach(btn => {\n\tbtn.addEventListener('click', () => {\n\t\tcloseContactHandler()\n\t})\n})\ndocument.addEventListener('DOMContentLoaded', () => {\n\tif (window.location.hash === '#contact') {\n\t\topenContactHandler()\n\t}\n})\n\nconst regFormPopup = document.querySelector('[form-popup]')\nconst regFormPopupContainer = document.querySelector('[form-popup-container]')\nconst regFormMsg = document.querySelector('[registration-form-msg]')\nconst sendingProccede = document.querySelector('.sendingProceed')\nconst closePopupBtn = document.querySelector('[close-popup-btn]')\n\nconst createSpanHendler = msg => {\n\tconst span = document.createElement('span')\n\tspan.classList.add('form-popup__container--msg')\n\tspan.innerText = msg\n\tclosePopupBtn.insertAdjacentElement('beforebegin', span)\n\n\t// regFormPopupContainer.appendChild(span)\n\tregFormPopup.classList.add('active')\n}\nconst registrationForm = document.querySelector('[registration-form=\"subscribe\"]')\nlet lastErrors = {}\n\nif (registrationForm) {\n\tregistrationForm.addEventListener('submit', e => {\n\t\te.preventDefault()\n\t\tsendFormToBackend(e)\n\t})\n}\nconst sendFormToBackend = async e => {\n\tconst form = e.target\n\tconst data = {\n\t\tname: form.querySelector('[name=\"userName\"]')?.value || '',\n\t\temail: form.querySelector('[name=\"userEmail\"]')?.value || '',\n\t\tcheckbox: form.querySelector('input[name=\"checkbox\"]:checked')?.value || '',\n\t}\n\tsendingProccede.classList.add('active')\n\ttry {\n\t\t// const res = await fetch('/api/newsletter', {\n\t\tconst res = await fetch('http://localhost:8000/newsletter.php', {\n\t\t\tmethod: 'POST',\n\t\t\theaders: { 'Content-Type': 'application/json' },\n\t\t\tbody: JSON.stringify(data),\n\t\t})\n\t\tconst json = await res.json()\n\n\t\tif (res.ok) {\n\t\t\tcreateSpanHendler(`ðŸ“© Witaj, ${json.user_name} \nDziÄ™kujemy za zapisanie siÄ™ do naszego newslettera âœ…\nTeraz bÄ™dziesz na bieÅ¼Ä…co z waÅ¼nymi informacjami i wydarzeniami.\nðŸ“¬ SprawdÅº skrzynkÄ™ (oraz SPAM) â€” wysÅ‚aliÅ›my wiadomoÅ›Ä‡ powitalnÄ….\nW razie pytaÅ„ pisz do nas Å›miaÅ‚o: ðŸ“§ ticket@bliskobrzegu.pl\nDo zobaczenia nad wodÄ…! ðŸŒŠ #BliskoBrzegu #DoZobaczenia`)\n\n\t\t\tlastErrors = {}\n\t\t} else {\n\t\t\tif (typeof json.errors === 'object') {\n\t\t\t\tconst errors = json.errors || {}\n\n\t\t\t\tObject.values(errors).forEach(err => {\n\t\t\t\t\tcreateSpanHendler(err)\n\t\t\t\t})\n\n\t\t\t\tlastErrors = errors\n\t\t\t} else if (json.error) {\n\t\t\t\tcreateSpanHendler(json.error)\n\t\t\t} else {\n\t\t\t\tcreateSpanHendler('WystÄ…piÅ‚ nieznany bÅ‚Ä…d')\n\t\t\t}\n\t\t}\n\t} catch (err) {\n\t\tcreateSpanHendler('BÅ‚Ä…d poÅ‚Ä…czenia z serwerem, sprÃ³buj ponownie')\n\t}\n}\n\nclosePopupBtn.addEventListener('click', e => {\n\te.preventDefault()\n\tconst errorSpan = regFormPopup.querySelectorAll('.form-popup__container--msg')\n\terrorSpan.forEach(span => span.remove())\n\tregFormPopup.classList.remove('active')\n\tconst currentForm = regFormPopup.closest('form')\n\tsendingProccede.classList.remove('active')\n\n\tif (Object.keys(lastErrors).length === 0) {\n\t\tcurrentForm.reset()\n\t} else {\n\t\tObject.keys(lastErrors).forEach(fieldName => {\n\t\t\tconst field = currentForm.querySelector(`[name=\"${fieldName}\"]`)\n\t\t\tif (field) field.value = ''\n\t\t})\n\t}\n})\n\nconst unsubscribeForm = document.querySelector('[registration-form=\"unsubscribe\"]')\nif (unsubscribeForm) {\n\tunsubscribeForm.addEventListener('submit', e => {\n\t\te.preventDefault()\n\t\tunsubscribeNewsLetter(e)\n\t})\n}\n\nconst unsubscribeNewsLetter = async e => {\n\tconst form = e.target\n\tconst data = {\n\t\temail: form.querySelector('[name=\"userEmailUs\"]')?.value || '',\n\t\tcheckbox: form.querySelector('input[name=\"checkboxUs\"]:checked')?.value || '',\n\t}\n\tsendingProccede.classList.add('active')\n\ttry {\n\t\tconst res = await fetch('http://localhost:8000/unsubscribe.php', {\n\t\t\tmethod: 'POST',\n\t\t\theaders: {\n\t\t\t\t'Content-Type': 'application/json',\n\t\t\t},\n\t\t\tbody: JSON.stringify(data),\n\t\t})\n\t\tconst json = await res.json()\n\n\t\tif (res.ok) {\n\t\t\tcreateSpanHendler(`\nZostaÅ‚eÅ› usuniÄ™ty z naszego newslettera`)\n\n\t\t\tlastErrors = {}\n\t\t} else {\n\t\t\tif (typeof json.errors === 'object') {\n\t\t\t\tconst errors = json.errors || {}\n\n\t\t\t\tObject.values(errors).forEach(err => {\n\t\t\t\t\tcreateSpanHendler(err)\n\t\t\t\t})\n\n\t\t\t\tlastErrors = errors\n\t\t\t} else if (json.error) {\n\t\t\t\tcreateSpanHendler(json.error)\n\t\t\t} else {\n\t\t\t\tcreateSpanHendler('WystÄ…piÅ‚ nieznany bÅ‚Ä…d')\n\t\t\t}\n\t\t}\n\t} catch (err) {\n\t\tcreateSpanHendler('BÅ‚Ä…d poÅ‚Ä…czenia z serwerem, sprÃ³buj ponownie')\n\t}\n}\n\nconst footerYear = document.querySelector('.footer__foot-year')\nconst handleCurrentYear = () => {\n\tconst year = new Date().getFullYear()\n\tfooterYear.innerText = year\n}\nhandleCurrentYear()\n"]}